<!doctype html>
<html>
  <script type='text/javascript'>
    var canvas = null;
    var img = null;
    var ctx = null;
    var imageReady = false;
    const ARIEL_W = 62; 
    const HALF_W = ARIEL_W/2; 
    const ARIEL_H = 42; 
    const ARIEL_N = 8;
    const SIMBA_W = 96; 
    const SIMBA_H = 54; 
    const SIMBA_N = 6; 
    const MS_PER_FRAME = 100; 
    const FRAMES_PER_S = 1000/60; 
    var xPos = 0; 
    var yPos = 0;  
    function onload() {
      canvas = document.getElementById('spriteCanvas');
      xPos = canvas.width/2; 
      yPos = canvas.height/2; 
      ctx = canvas.getContext("2d");
      img = new Image();
      img.src = 'ariel.png';
      img.onload = loaded();
      resize();
    }
    function loaded() {
        imageReady = true;
        setTimeout(animate, FRAMES_PER_S);
    }
    function resize() {
      var w0 = canvas.width; 
      var h0 = canvas.height; 
      canvas.width = canvas.parentNode.clientWidth;
      canvas.height = canvas.parentNode.clientHeight;
      xPos = (canvas.width/w0) * xPos; 
      yPos = (canvas.height/h0) * yPos; 
      redraw();
    }
    function redraw() {
        ctx.fillStyle = '#000000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        if (imageReady) {
            ctx.drawImage(img, frame*ARIEL_W, 0, ARIEL_W, ARIEL_H,
                          xPos - HALF_W, yPos - HALF_W, ARIEL_W, ARIEL_H);
        }
    }
    
    var frame = 0;
    var tLastUpdate = 0; 
    var dt = 0; 
    function animate() {
        requestAnimationFrame(animate); 
        if (dt > MS_PER_FRAME) {
          redraw(); 
          frame++; 
          if (frame >= ARIEL_N) frame = 0;
          dt = 0; 
        } else 
        {
          dt += Date.now() - tLastUpdate; 
        }
        tLastUpdate = Date.now(); 
    }

  </script>
  </head>

<body onresize='onresize()' onload='onload()' style='position: absolute; padding:0; margin:0; height: 100%; width:100%'>

<canvas id="spriteCanvas"></canvas>

</body>
</html>